"use strict";var yahooIdsDone=jQuery.Deferred(),updated_translation=0,is_FA_current=!1;onMatchupPreviewPage=document.URL.match(/f1\/\d+\/matchup/),onClubhousePage=document.URL.match(/f1\/\d+\/\d+/),onFreeAgencyPage=document.URL.match(/f1\/\d+\/players/),hasProjTotals=onMatchupPreviewPage||onClubhousePage,hasPlayerTable=onClubhousePage||onFreeAgencyPage,hasProjectionTable=onMatchupPreviewPage||onClubhousePage||onFreeAgencyPage,base_table_selector="#team-roster",player_table_selector="table[id^=statTable]",player_table_body_selector="tbody",player_table_header_selector="thead tr",player_table_row_selector="tr:not(.empty-bench, empty-position)",player_name_selector="td.player",page_menu_selector="header div#full_stat_nav",pts_total_selector="span.proj-pts-week",onMatchupPreviewPage?(base_table_selector="#yspmaincontent",page_menu_selector="header span",pts_total_selector="section#matchup-header table tr:nth(1) td"):onFreeAgencyPage&&(base_table_selector="#players-table-wrapper",player_table_selector="table",page_menu_selector="",pts_total_selector=""),league_id=document.URL.match(/football.fantasysports.yahoo.com\/f1\/(\d+)/)[1],league_settings_url="//football.fantasysports.yahoo.com/f1/"+league_id+"/settings",storageLeagueKey="fp_yahoo_league_data_"+league_id,storageLeagueUpdateKey="fp_yahoo_last_updated_league_"+league_id,storagePlayerKey="fp_yahoo_player_data_"+league_id,storageUpdateKey="fp_yahoo_last_updated_"+league_id,storageUpdateTypeKey="fp_yahoo_last_updated_type_"+league_id,storageTranslationKey="fp_yahoo_translation",storageTranslationUpdateKey="fp_yahoo_translation_updated",storageKeys.push(storageLeagueKey,storageLeagueUpdateKey,storagePlayerKey,storageUpdateKey,storageUpdateTypeKey,storageTranslationKey,storageTranslationUpdateKey),show_avg=!1,show_med=!1,show_current=!1,show_spark=!1,show_ros=!1,show_depth=!1;function fixPage(){remove_ads&&(jQuery(".df-ad").remove(),jQuery("#fantasyhero").remove(),jQuery("#gamepromo").remove(),jQuery("#survival-oneclick-promo").remove(),jQuery("#fantasytrophypromo, #fantasyshoppromo").remove(),jQuery(".Ad").parent().remove())}function setSelectors(){if(base_table=jQuery(base_table_selector),page_menu_selector&&(page_menu=base_table.find(page_menu_selector)),pts_total_selector&&(pts_total=base_table.find(pts_total_selector)),playerTable=base_table.find(player_table_selector),player_table_body=playerTable.find(player_table_body_selector),player_table_header=playerTable.find(player_table_header_selector),player_table_rows=player_table_body.find(player_table_row_selector),show_proj="undefined"==typeof user_settings.columns.proj||user_settings.columns.proj,show_rank="undefined"==typeof user_settings.columns.rank||user_settings.columns.rank,onMatchupPreviewPage)player_table_header_proj_selector="th:contains(Proj)";else if(onFreeAgencyPage){is_FA_current=!1;var a=window.location.search,b=getParams(a),c=b.hasOwnProperty("stat1")?b.stat1[0]:"";if(!/^S_P/.test(c))player_table_header_proj_selector="th:contains(Nothing to see here)",show_proj=!1,show_rank=!1;else if(player_table_header_proj_selector="th:contains(Fan Pts)",/^S_PW_/.test(c)){var d=parseInt(c.split("_").reverse()[0]);isNaN(d)||d!==current_week||(is_FA_current=!0)}}else{player_table_header_proj_selector="th:contains(Proj Pts)";var e=page_menu.find("div.navlist:first li.Selected:first a").attr("id");if("P"===e||"GDD"===e){var f=page_menu.find("div#statsubnav ul#"+("subnav_"+e)+" li.Selected:first a").attr("href"),g=getParams(f),h=g.hasOwnProperty("stat2")?g.stat2[0]:"";"P"===e&&"PW"===h?player_table_header_proj_selector="th:contains(Fan Pts)":"GDD"===e&&"D"===h&&(player_table_header_proj_selector="th:contains(Rank)")}else"K"===e&&(show_proj=!1,player_table_header_proj_selector="th:contains(This Week)")}proj_head=player_table_header.find(player_table_header_proj_selector),onMatchupPreviewPage&&(show_rank=!1,show_ros=!1,show_depth=!1,show_spark=!1,show_avg=!1,show_med=!1,show_current=!1);var i=proj_head.first();header_index=i.index(),i.prevAll("th, td").each(function(){header_index+=this.colSpan-1})}override(assignDataFromStorage,"_resolve",applyBefore(function(){onMatchupPreviewPage||onFreeAgencyPage?(storage_translation_data=r[storageTranslationKey],isObj(storage_translation_data)?(updated_translation=r[storageTranslationUpdateKey],isDataCurrent("translation")?(dlog.log("Using cache for yahoo ID data"),dlog.log("yahoo IDs done"),yahooIdsDone.resolve()):(dlog.log("Yahoo ID data too old, Updated time: "+updated_translation+", Current Time: "+current_time),getYahooIds())):(dlog.log("Could not find yahoo ID data"),storage_translation_data={},updated_translation=0,getYahooIds())):(dlog.log("yahoo IDs done"),yahooIdsDone.resolve())}));